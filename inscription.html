<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulaire d'inscription</title>

    <script type="text/javascript">
        /*
        * Idée de vérification venue de ce site
        * https://www.geeksforgeeks.org/create-an-online-payment-project-using-html-css-javascript/
        * */
        document.addEventListener('DOMContentLoaded', function () {
            let vPhoneNumInput = document.querySelector('#telephone');
            /*let vVitalCardInput = document.querySelector('#carteVitale');*/

            vPhoneNumInput.addEventListener('keyup', () => {
                let pNumber = vPhoneNumInput.value;
                pNumber = pNumber.replace(/\D/g, ""); // Remove all non-digit characters

                if (pNumber.startsWith('0')) {
                    pNumber = '33' + pNumber.slice(1);
                }

                if (pNumber.length <= 2) {
                    vPhoneNumInput.value = '+' + pNumber;
                } else if (pNumber.length <= 3) {
                    vPhoneNumInput.value = '+33 ' + pNumber.slice(2);
                } else if (pNumber.length <= 4) {
                    vPhoneNumInput.value = '+33 ' + pNumber.slice(2, 3) + ' ' + pNumber.slice(3);
                } else if (pNumber.length <= 6) {
                    vPhoneNumInput.value = '+33 ' + pNumber.slice(2, 3) + ' ' + pNumber.slice(3, 5) + ' ' + pNumber.slice(5);
                } else if (pNumber.length <= 8) {
                    vPhoneNumInput.value = '+33 ' + pNumber.slice(2, 3) + ' ' + pNumber.slice(3, 5) + ' ' + pNumber.slice(5, 7) + ' ' + pNumber.slice(7);
                } else {
                    vPhoneNumInput.value = '+33 ' + pNumber.slice(2, 3) + ' ' + pNumber.slice(3, 5) + ' ' + pNumber.slice(5, 7) + ' ' + pNumber.slice(7, 9) + ' ' + pNumber.slice(9);
                }
            });
        });

    </script>

    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .Container {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .Form {
            background-color: #ffffff;
            padding: 20px;
            border-radius: 8px;
            width: 300px;
            text-align: left;
        }

        .Form h2 {
            color: #333333;
            margin-bottom: 15px;
            text-align: center;
        }

        .FormElement {
            margin-bottom: 15px;
        }

        .FormElement label {
            margin-bottom: 5px;
            color: #333333;
        }

        .FormElement input {
            width: calc(100% - 20px); /*https://developer.mozilla.org/en-US/docs/Web/CSS/calc*/
            /*S'assure que les élements se placent correctement par rapport au conteneur et ne dépasse pas ou ne se chevauche pas*/
            padding: 10px;
            border: 1px solid #cccccc;
            border-radius: 5px;
            font-size: 16px;
        }

        #SignUpButton {
            background-color: #28a745;
            color: #ffffff;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            width: 100%;
            text-align: center;
        }

        #SignUpButton:hover {
            opacity: 0.8;
        }
    </style>
</head>
<body>
<div class="Container"><!--Contient tout l'affichage-->
    <div class="Form"><!--Contient tout le formulaire-->
        <h2>Inscription</h2>
        <form action="inscription.php" method="post">
            <div class="FormElement"><!--Chaque élement est dans un div FormElement-->
                <label for="nom">Nom:</label>
                <!--Pour la visibilité et l'accesibilité (voir w3schools html form)-->
                <input type="text" id="nom" name="nom" placeholder=" Bon" required>
                <!-- Permet de demander la saisie du champs obligatoirement (comme la vérif PHP des TD-->
            </div>
            <div class="FormElement"><!--Chaque élement est dans un div FormElement-->
                <label for="prenom">Prénom :</label>
                <!--Pour la visibilité et l'accesibilité (voir w3schools html form)-->
                <input type="text" id="prenom" name="prenom" placeholder="Jean " required>
                <!-- Permet de demander la saisie du champs obligatoirement (comme la vérif PHP des TD-->
            </div>
            <div class="FormElement">
                <label for="adresse1">Adresse ligne 1 :</label>
                <input type="text" id="adresse1" name="adresse1" placeholder="10 rue " required>
            </div>
            <div class="FormElement">
                <label for="adresse2">Adresse ligne 2 :</label>
                <input type="text" id="adresse2" name="adresse2" placeholder="de la Mouette">
            </div>
            <div class="FormElement">
                <label for="ville">Ville :</label>
                <input type="text" id="ville" name="Ville" required placeholder="Paris">
            </div>
            <div class="FormElement">
                <label for="codePostal">Code Postal :</label>
                <input type="number" id="codePostal" name="codePostal" placeholder="01234" required>
            </div>
            <div class="FormElement">
                <label for="pays">Pays :</label>
                <input type="text" id="pays" name="pays" placeholder="France" required>
            </div>
            <div class="FormElement">
                <label for="telephone">Numéro de téléphone :</label>
                <input type="tel" id="telephone" name="telephone" placeholder="+33123456789" required>
            </div>
            <div class="FormElement">
                <label for="email">Courriel:</label>
                <input type="email" id="email" name="email" placeholder="lemedecin@omnessante.fr" required>
            </div>
            <div class="FormElement">
                <label for="carteVitale">Carte Vitale :</label>
                <input type="text" id="carteVitale" name="carteVitale" placeholder="1 60 04 25 311 114 26" required>
            </div>
            <div class="FormElement">
                <label for="password">Mot de passe :</label>
                <input type="password" id="password" name="password" placeholder="MonMotDePasse" required>
            </div>
            <div class="FormElement">
                <button type="submit" id="SignUpButton">S'inscrire</button>
            </div>
        </form>
    </div>
</div>
</body>
</html>
